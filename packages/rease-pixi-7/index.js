/* eslint-disable */
const e=require("rease");function i(){var e=this;e.assets[/Bundle$/.test(e.method)?"unloadBundle":"unload"](e.url||e.urls||e.bundleId||e.bundleIds)}function t(e){var t=this.iam,s=this.props;s.unload&&t.onDestroy(i,s),t.destroyed||t.insert(s.callback?s.callback.call(t,e):s.children)}class PixiAssets extends e.Rease{constructor(e){super(),this.await((e.pixi||PIXI.Assets)[e.method](e.options||e.url||e.urls||e.bundleId||e.bundleIds||e.assets,e.onProgress||e.assets),t,{iam:this,props:e})}}function s(e,i){return e==e?e===i:i!=i}function r(e,i,t){for(var n in i)null==(o=i[n])||(o=Object.getPrototypeOf(o))!==Object.prototype&&o?s(t[n],i[n])||s(e[n],t[n]=i[n])||(e[n]=i[n]):r(e[n],i[n],t[n]||(t[n]={}));var o}function n(e){e&&(r(this.rease.pixi,e,this.cache),this.rease.update())}function o(e){e&&(e.call(this,this.pixi),this.update())}function a(e,{props:i,$props$:t,onCreateCapture:s,onResizeCapture:a,onRenderCapture:c,$signalCapture$:p}){i&&r(e.pixi,i,{}),t&&e.watch(t,n,{rease:e,cache:{}}),s&&s.call(e,e.pixi),a&&e.on("pixi-resize",a,e,!0),c&&e.on("pixi-render",c,e,!0),p&&e.watch(p,o,e)}function c(e,{onCreate:i,onResize:t,onRender:s,$signal$:r}){i&&i.call(e,e.pixi),t&&e.on("pixi-resize",t,e),s&&e.on("pixi-render",s,e),r&&e.watch(r,o,e)}class PixiRenderer extends e.Rease{constructor(i){super();var t=this.pixi=PIXI.autoDetectRenderer(i.options),s=t.view,r=s.style;r.width=r.height="100%";var n=!0,o=!1,p=e=>{o=!0,this.PixiScene&&(n&&(n=!1,t.resize(s.clientWidth,s.clientHeight),this.emitDeep("pixi-resize")),this.emitDeep("pixi-render",e),t.render(this.PixiScene.pixi))};this.update=()=>{o&&(o=!1,e.requestAnimationFrame(p))};var x=this.insert(e.createElement(e.RElement,{this:s}))[0];this.onDestroy(e.listen(s,"resize",(()=>{n=!0,this.update()}))),a(this,i),x.insert(i.children),c(this,i),o=!0,this.update()}}class p extends e.Rease{constructor(e,i){super(),this.pixi=i,this.onMove(this.hookMove,this),h(this),a(this,e),this.insert(e.children),c(this,e),this.onDestroy(this.hookDestroy)}update(){this.PixiRenderer&&this.PixiRenderer.update()}hookMove(e,i,t){if(e&&e!==this)for(var s=this;s=s.parent;){if(s instanceof p)return void(this.PixiRenderer=s.PixiRenderer);if(s===e)break}h(this)}hookDestroy(e){x(e),e.pixi.removeFromParent(),e.pixi.destroy(),e.update()}}function x(e){var i=e.PixiRenderer;i&&(i.PixiScene===e&&(i.PixiScene=void 0),e.PixiRenderer=void 0)}var l=[PixiRenderer,p];function h(e){x(e);var i=e.findParentOrNext(l,p),t=i.parent,s=i.next,r=e.pixi;if(r.removeFromParent(),t instanceof PixiRenderer)t.PixiScene=e,e.PixiRenderer=t;else{var n=s&&s.pixi,o=n&&n.parent||t&&t.pixi;o&&(n?o.addChildAt(r,o.getChildIndex(n)):o.addChild(r),e.PixiRenderer=(t||s).PixiRenderer)}e.update()}function u(e){var i=e.findParent(p);d(e),e.PixiScene=i,S.call(e,e._mode),P(e)}function d(e){var i=e._type,t=e._handler,s=e.PixiScene;if(s&&i&&t)for(var r=s.pixi,n=i.length;n-- >0;)r.off(i[n],t,e)}function P(e){var i=e._type,t=e._handler,s=e.PixiScene;if(s&&i&&t)for(var r=s.pixi,n=i.length;n-- >0;)r[e._once?"once":"on"](i[n],t,e._context)}function S(e){(this._mode=e)&&this.PixiScene&&(this.PixiScene.pixi.eventMode=e)}function v([e,i,t,s]){d(this),this._once=t,this._type=Array.isArray(e)?e.slice():[e],this._handler=i,this._context=void 0===s?this:s,P(this)}class PixiEvent extends e.Rease{constructor({$mode$:e,$once$:i,$type$:t,$handler$:s,$context$:r}){super(),this.onMove(this.hookMove,this),u(this),e&&this.watch(e,S,this),this.watchAll([t,s,i,r],v,this),this.onDestroy(this.hookDestroy)}hookMove(e,i,t){if(e&&e!==this)for(var s=this;s=s.parent;){if(s===this.PixiScene)return;if(s===e||s instanceof p)break}u(this)}hookDestroy(e){d(e)}}class f extends e.Rease{constructor(e,i){super(),this.pixi=i,this.onMove(this.hookMove,this),m(this),a(this,e),this.insert(e.children),c(this,e),this.onDestroy(this.hookDestroy)}update(){this.PixiScene&&this.PixiScene.update()}hookMove(e,i,t){if(e&&e!==this)for(var s=this;s=s.parent;){if(s===this.PixiScene)return;if(s===e||s instanceof p)break}m(this)}hookDestroy(e){I(e),e.pixi.destroy()}}function I(e){var i=e.PixiScene;if(i){var t=i.pixi,s=t.filters;if(s){var r=e.pixi;s===r?t.filters=[]:Array.isArray(s)&&(t.filters=s.filter((function(e){return this!==e}),r)),e.update()}e.PixiScene=void 0}}function m(e){I(e);var i=e.findParentOrNext(p,f),t=i.parent,s=i.next,r=e.pixi,n=s&&s.pixi,o=t&&t.pixi;if(o){var a,c=o.filters;c=Array.isArray(c)?c.slice():c?[c]:[],n&&(a=c.indexOf(n))>-1?c.splice(a,0,r):c.push(r),o.filters=c,e.PixiScene=t,e.update()}}exports.Assets=PixiAssets,exports.Event=PixiEvent,exports.Filter=class PixiFilter extends f{constructor(e){var i=e.options||{};super(e,new PIXI.Filter(i.vertexSrc,i.fragmentSrc,i.uniforms))}},exports.FilterAlpha=class PixiFilterAlpha extends f{constructor(e){var i=e.options||{};super(e,new PIXI.AlphaFilter(i.alpha))}},exports.FilterBlur=class PixiFilterBlur extends f{constructor(e){var i=e.options||{};super(e,new PIXI.BlurFilter(i.strength,i.quality,i.resolution,i.kernelSize))}},exports.FilterColorMatrix=class PixiFilterColorMatrix extends f{constructor(e){super(e,new PIXI.ColorMatrixFilter)}},exports.FilterDisplacement=class PixiFilterDisplacement extends f{constructor(e){var i=e.options;super(e,new PIXI.DisplacementFilter(i.sprite,i.scale))}},exports.FilterFXAA=class PixiFilterFXAA extends f{constructor(e){super(e,new PIXI.FXAAFilter)}},exports.FilterNoise=class PixiFilterNoise extends f{constructor(e){var i=e.options||{};super(e,new PIXI.NoiseFilter(i.noise,i.seed))}},exports.Renderer=PixiRenderer,exports.SceneAnimatedSprite=class PixiSceneAnimatedSprite extends p{constructor(e){var i=e.options;super(e,new PIXI.AnimatedSprite(i.textures,i.autoUpdate))}},exports.SceneBitmapText=class PixiSceneBitmapText extends p{constructor(e){var i=e.options;super(e,new PIXI.BitmapText(i.text,i.style))}},exports.SceneContainer=class PixiSceneContainer extends p{constructor(e){super(e,new PIXI.Container)}},exports.SceneGraphics=class PixiSceneGraphics extends p{constructor(e){var i=e.options||{};super(e,new PIXI.Graphics(i.geometry))}},exports.SceneHTMLText=class PixiSceneHTMLText extends p{constructor(e){var i=e.options||{};super(e,new PIXI.HTMLText(i.text,i.style))}},exports.SceneMesh=class PixiSceneMesh extends p{constructor(e){var i=e.options;super(e,new PIXI.Mesh(i.geometry,i.shader,i.state,i.drawMode))}},exports.SceneNineSlicePlane=class PixiSceneNineSlicePlane extends p{constructor(e){var i=e.options;super(e,new PIXI.NineSlicePlane(i.texture,i.leftWidth,i.topHeight,i.rightWidth,i.bottomHeight))}},exports.SceneParticleContainer=class PixiSceneParticleContainer extends p{constructor(e){var i=e.options||{};super(e,new PIXI.ParticleContainer(i.maxSize,i.properties,i.batchSize,i.autoResize))}},exports.SceneSimpleMesh=class PixiSceneSimpleMesh extends p{constructor(e){var i=e.options||{};super(e,new PIXI.SimpleMesh(i.texture,i.vertices,i.uvs,i.indices,i.drawMode))}},exports.SceneSimplePlane=class PixiSceneSimplePlane extends p{constructor(e){var i=e.options;super(e,new PIXI.SimplePlane(i.texture,i.verticesX,i.verticesY))}},exports.SceneSimpleRope=class PixiSceneSimpleRope extends p{constructor(e){var i=e.options;super(e,new PIXI.SimpleRope(i.texture,i.points,i.textureScale))}},exports.SceneSprite=class PixiSceneSprite extends p{constructor(e){var i=e.options||{};super(e,new PIXI.Sprite(i.texture))}},exports.SceneText=class PixiSceneText extends p{constructor(e){var i=e.options||{};super(e,new PIXI.Text(i.text,i.style,i.canvas))}},exports.SceneTilingSprite=class PixiSceneTilingSprite extends p{constructor(e){var i=e.options;super(e,new PIXI.TilingSprite(i.texture,i.width,i.height))}},exports.__Filter__=f,exports.__Scene__=p;
