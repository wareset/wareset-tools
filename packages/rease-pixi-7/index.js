/* eslint-disable */
const e=require("rease");function t(){var e=this;(e.assets||PIXI.Assets)[/Bundle$/.test(e.method)?"unloadBundle":"unload"](e.url||e.urls||e.bundleId||e.bundleIds)}function i(e){var i=this.iam,r=this.props;r.unload&&i.onDestroy(t,r),i.destroyed||i.insert(r.callback?r.callback.call(i,e):r.children)}class PixiAssets extends e.Rease{constructor(e){super(),this.await((e.assets||PIXI.Assets)[e.method](e.options||e.url||e.urls||e.bundleId||e.bundleIds||e.data,e.onProgress||e.data),i,{iam:this,props:e})}}function r(e,t){return e==e?e===t:t!=t}function s(e,t,i){for(var n in t)null==(o=t[n])||(o=Object.getPrototypeOf(o))!==Object.prototype&&o?r(i[n],t[n])||r(e[n],i[n]=t[n])||(e[n]=t[n]):s(e[n],t[n],i[n]||(i[n]={}));var o}function n(e){e&&(s(this.rease.pixi,e,this.cache),this.rease.update())}function o(e){e&&(e.call(this,this.pixi),this.update())}function a(e,{props:t,$props$:i,onCreateCapture:r,onResizeCapture:a,onRenderCapture:c,$signalCapture$:p}){t&&s(e.pixi,t,{}),i&&e.watch(i,n,{rease:e,cache:{}}),r&&r.call(e,e.pixi),a&&e.on("pixi-resize",a,e,!0),c&&e.on("pixi-render",c,e,!0),p&&e.watch(p,o,e)}function c(e,{onCreate:t,onResize:i,onRender:r,$signal$:s}){t&&t.call(e,e.pixi),i&&e.on("pixi-resize",i,e),r&&e.on("pixi-render",r,e),s&&e.watch(s,o,e)}class PixiRenderer extends e.Rease{constructor(t){super();var i=this,r=this.pixi=PIXI.autoDetectRenderer(t.options),s=r.view,n=s.style;n.width=n.height="100%";var o=!0,p=!1,x=e=>{p=!0,i.PixiScene&&(o&&(o=!1,r.resize(s.clientWidth,s.clientHeight),i.emitDeep("pixi-resize")),i.emitDeep("pixi-render",e),r.render(i.PixiScene.pixi))},l=i.insert(e.createElement(e.RElement,{this:s}))[0];this.update=()=>{p&&(p=!1,e.requestAnimationFrame(x))},i.onDestroy(e.listen(s,"resize",(()=>{o=!0,i.update()}))),a(i,t),l.insert(t.children),c(i,t),i.onDestroy(i.hookDestroy),p=!0,i.update()}hookDestroy(e){e.update=()=>{},e.pixi.destroy()}}class p extends e.Rease{constructor(e,t){super(),this.pixi=t,this.onMove(this.hookMove,this),h(this),a(this,e),this.insert(e.children),c(this,e),this.onDestroy(this.hookDestroy)}update(){this.PixiRenderer&&this.PixiRenderer.update()}hookMove(e,t,i){if(e&&e!==this)for(var r=this;r=r.parent;){if(r instanceof p)return void(this.PixiRenderer=r.PixiRenderer);if(r===e)break}h(this)}hookDestroy(e){x(e),e.pixi.removeFromParent(),e.pixi.destroy(),e.update()}}function x(e){var t=e.PixiRenderer;t&&(t.PixiScene===e&&(t.PixiScene=void 0),e.PixiRenderer=void 0)}var l=[PixiRenderer,p];function h(e){x(e);var t=e.findParentOrNext(l,p),i=t.parent,r=t.next,s=e.pixi;if(s.removeFromParent(),i instanceof PixiRenderer)i.PixiScene=e,e.PixiRenderer=i;else{var n=r&&r.pixi,o=n&&n.parent||i&&i.pixi;o&&(n?o.addChildAt(s,o.getChildIndex(n)):o.addChild(s),e.PixiRenderer=(i||r).PixiRenderer)}e.update()}function d(e){var t=e.findParent(p);u(e),e.PixiScene=t,S.call(e,e._mode),P(e)}function u(e){var t=e._type,i=e._handler,r=e.PixiScene;if(r&&t&&i)for(var s=r.pixi,n=t.length;n-- >0;)s.off(t[n],i,e)}function P(e){var t=e._type,i=e._handler,r=e.PixiScene;if(r&&t&&i)for(var s=r.pixi,n=t.length;n-- >0;)s[e._once?"once":"on"](t[n],i,e._context)}function S(e){(this._mode=e)&&this.PixiScene&&(this.PixiScene.pixi.eventMode=e)}function v([e,t,i,r]){u(this),this._once=i,this._type=Array.isArray(e)?e.slice():[e],this._handler=t,this._context=void 0===r?this:r,P(this)}class PixiEvent extends e.Rease{constructor({$mode$:e,$once$:t,$type$:i,$handler$:r,$context$:s}){super(),this.onMove(this.hookMove,this),d(this),e&&this.watch(e,S,this),this.watchAll([i,r,t,s],v,this),this.onDestroy(this.hookDestroy)}hookMove(e,t,i){if(e&&e!==this)for(var r=this;r=r.parent;){if(r===this.PixiScene)return;if(r===e||r instanceof p)break}d(this)}hookDestroy(e){u(e)}}class f extends e.Rease{constructor(e,t){super(),this.pixi=t,this.onMove(this.hookMove,this),m(this),a(this,e),this.insert(e.children),c(this,e),this.onDestroy(this.hookDestroy)}update(){this.PixiScene&&this.PixiScene.update()}hookMove(e,t,i){if(e&&e!==this)for(var r=this;r=r.parent;){if(r===this.PixiScene)return;if(r===e||r instanceof p)break}m(this)}hookDestroy(e){I(e),e.pixi.destroy()}}function I(e){var t=e.PixiScene;if(t){var i=t.pixi,r=i.filters;if(r){var s=e.pixi;r===s?i.filters=[]:Array.isArray(r)&&(i.filters=r.filter((function(e){return this!==e}),s)),e.update()}e.PixiScene=void 0}}function m(e){I(e);var t=e.findParentOrNext(p,f),i=t.parent,r=t.next,s=e.pixi,n=r&&r.pixi,o=i&&i.pixi;if(o){var a,c=o.filters;c=Array.isArray(c)?c.slice():c?[c]:[],n&&(a=c.indexOf(n))>-1?c.splice(a,0,s):c.push(s),o.filters=c,e.PixiScene=i,e.update()}}exports.Assets=PixiAssets,exports.Event=PixiEvent,exports.Filter=class PixiFilter extends f{constructor(e){var t=e.options||{};super(e,new PIXI.Filter(t.vertexSrc,t.fragmentSrc,t.uniforms))}},exports.FilterAlpha=class PixiFilterAlpha extends f{constructor(e){var t=e.options||{};super(e,new PIXI.AlphaFilter(t.alpha))}},exports.FilterBlur=class PixiFilterBlur extends f{constructor(e){var t=e.options||{};super(e,new PIXI.BlurFilter(t.strength,t.quality,t.resolution,t.kernelSize))}},exports.FilterColorMatrix=class PixiFilterColorMatrix extends f{constructor(e){super(e,new PIXI.ColorMatrixFilter)}},exports.FilterDisplacement=class PixiFilterDisplacement extends f{constructor(e){var t=e.options;super(e,new PIXI.DisplacementFilter(t.sprite,t.scale))}},exports.FilterFXAA=class PixiFilterFXAA extends f{constructor(e){super(e,new PIXI.FXAAFilter)}},exports.FilterNoise=class PixiFilterNoise extends f{constructor(e){var t=e.options||{};super(e,new PIXI.NoiseFilter(t.noise,t.seed))}},exports.Renderer=PixiRenderer,exports.SceneAnimatedSprite=class PixiSceneAnimatedSprite extends p{constructor(e){var t=e.options;super(e,new PIXI.AnimatedSprite(t.textures,t.autoUpdate))}},exports.SceneBitmapText=class PixiSceneBitmapText extends p{constructor(e){var t=e.options;super(e,new PIXI.BitmapText(t.text,t.style))}},exports.SceneContainer=class PixiSceneContainer extends p{constructor(e){super(e,new PIXI.Container)}},exports.SceneGraphics=class PixiSceneGraphics extends p{constructor(e){var t=e.options||{};super(e,new PIXI.Graphics(t.geometry))}},exports.SceneHTMLText=class PixiSceneHTMLText extends p{constructor(e){var t=e.options||{};super(e,new PIXI.HTMLText(t.text,t.style))}},exports.SceneMesh=class PixiSceneMesh extends p{constructor(e){var t=e.options;super(e,new PIXI.Mesh(t.geometry,t.shader,t.state,t.drawMode))}},exports.SceneNineSlicePlane=class PixiSceneNineSlicePlane extends p{constructor(e){var t=e.options;super(e,new PIXI.NineSlicePlane(t.texture,t.leftWidth,t.topHeight,t.rightWidth,t.bottomHeight))}},exports.SceneParticleContainer=class PixiSceneParticleContainer extends p{constructor(e){var t=e.options||{};super(e,new PIXI.ParticleContainer(t.maxSize,t.properties,t.batchSize,t.autoResize))}},exports.SceneSimpleMesh=class PixiSceneSimpleMesh extends p{constructor(e){var t=e.options||{};super(e,new PIXI.SimpleMesh(t.texture,t.vertices,t.uvs,t.indices,t.drawMode))}},exports.SceneSimplePlane=class PixiSceneSimplePlane extends p{constructor(e){var t=e.options;super(e,new PIXI.SimplePlane(t.texture,t.verticesX,t.verticesY))}},exports.SceneSimpleRope=class PixiSceneSimpleRope extends p{constructor(e){var t=e.options;super(e,new PIXI.SimpleRope(t.texture,t.points,t.textureScale))}},exports.SceneSprite=class PixiSceneSprite extends p{constructor(e){var t=e.options||{};super(e,new PIXI.Sprite(t.texture))}},exports.SceneText=class PixiSceneText extends p{constructor(e){var t=e.options||{};super(e,new PIXI.Text(t.text,t.style,t.canvas))}},exports.SceneTilingSprite=class PixiSceneTilingSprite extends p{constructor(e){var t=e.options;super(e,new PIXI.TilingSprite(t.texture,t.width,t.height))}},exports.__Filter__=f,exports.__Scene__=p;
