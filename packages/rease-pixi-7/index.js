/* eslint-disable */
const e=require("rease");function t(){var e=this;(e.assets||PIXI.Assets)[/Bundle$/.test(e.method)?"unloadBundle":"unload"](e.url||e.urls||e.bundleId||e.bundleIds)}function i(e){var i=this.iam,r=this.props;r.unload&&i.onDestroy(t,r),i.destroyed||i.insert(r.callback?r.callback.call(i,e):r.children)}class PixiAssets extends e.Rease{constructor(e){super(),this.await((e.assets||PIXI.Assets)[e.method](e.options||e.url||e.urls||e.bundleId||e.bundleIds||e.data,e.onProgress||e.data),i,{iam:this,props:e})}}var r="rease-pixi-7-",s=r+"resize",n=r+"render";function o(e,t){return e==e?e===t:t!=t}function c(e){return null!=e&&((e=Object.getPrototypeOf(e))===Object.prototype||!e)}function a(e,t,i){return o(this[t],i[t])}function p(e,t,i){for(var r in t)"function"==typeof e[r]?i[r]&&i[r].length===t[r].length&&i[r].every(a,t)||e[r].apply(e,i[r]=t[r]):c(t[r])?p(e[r],t[r],i[r]||(i[r]={})):o(i[r],t[r])||o(e[r],i[r]=t[r])||(e[r]=t[r])}function x(e){e&&(p(this.r.pixi,e,this.c),this.r.update())}function l(e){e&&(e.call(this,this.pixi),this.update())}function h(e,{props:t,$props$:i,onCreateCapture:r,onResizeCapture:o,onRenderCapture:c,$signalCapture$:a}){t&&p(e.pixi,t,{}),i&&e.watch(i,x,{r:e,c:{}}),r&&r.call(e,e.pixi),a&&e.watch(a,l,e),c&&e.on(n,c,e,!0),o&&e.on(s,o,e,!0)}function u(e,{onCreate:t,onResize:i,onRender:r,$signal$:o}){t&&t.call(e,e.pixi),o&&e.watch(o,l,e),r&&e.on(n,r,e),i&&e.on(s,i,e)}class PixiRenderer extends e.Rease{constructor(t){super();var i=this,r=this.pixi=PIXI.autoDetectRenderer(t.options),o=r.view,c=o.style;c.width=c.height="100%";var a=!0,p=!1,x=e=>{p=!0,i.PixiScene&&(a&&(a=!1,r.resize(o.clientWidth,o.clientHeight),i.emitDeep(s)),i.emitDeep(n,e),r.render(i.PixiScene.pixi))},l=i.insert(e.createElement(e.RElement,{this:o}))[0];r.resize(o.clientWidth,o.clientHeight),this.update=()=>{p&&(p=!1,e.requestAnimationFrame(x))},i.onDestroy(e.listen(o,"resize",(()=>{a=!0,i.update()}))),a=!1,h(i,t),l.insert(t.children),u(i,t),i.onDestroy(i.hookDestroy),p=!0,i.update()}hookDestroy(e){e.update=()=>{},e.pixi.destroy()}}class d extends e.Rease{constructor(e,t){super(),this.pixi=t,this.onMove(this.hookMove,this),v(this),h(this,e),this.insert(e.children),u(this,e),this.onDestroy(this.hookDestroy)}update(){this.PixiRenderer&&this.PixiRenderer.update()}hookMove(e,t,i){if(e&&e!==this)for(var r=this;r=r.parent;){if(r instanceof d)return void(this.PixiRenderer=r.PixiRenderer);if(r===e)break}v(this)}hookDestroy(e){P(e),e.pixi.removeFromParent(),e.pixi.destroy(),e.update()}}function P(e){var t=e.PixiRenderer;t&&(t.PixiScene===e&&(t.PixiScene=void 0),e.PixiRenderer=void 0)}var S=[PixiRenderer,d];function v(e){P(e);var t=e.findParentOrNext(S,d),i=t.parent,r=t.next,s=e.pixi;if(s.removeFromParent(),i instanceof PixiRenderer)i.PixiScene=e,e.PixiRenderer=i;else{var n=r&&r.pixi,o=n&&n.parent||i&&i.pixi;o&&(n?o.addChildAt(s,o.getChildIndex(n)):o.addChild(s),e.PixiRenderer=(i||r).PixiRenderer)}e.update()}function f(e){var t=e.findParent(d);I(e),e.PixiScene=t,y.call(e,e._mode),m(e)}function I(e){var t=e._type,i=e._handler,r=e.PixiScene;if(r&&t&&i)for(var s=r.pixi,n=t.length;n-- >0;)s.off(t[n],i,e)}function m(e){var t=e._type,i=e._handler,r=e.PixiScene;if(r&&t&&i)for(var s=r.pixi,n=t.length;n-- >0;)s[e._once?"once":"on"](t[n],i,e._context)}function y(e){(this._mode=e)&&this.PixiScene&&(this.PixiScene.pixi.eventMode=e)}function w([e,t,i,r]){I(this),this._once=i,this._type=Array.isArray(e)?e.slice():[e],this._handler=t,this._context=void 0===r?this:r,m(this)}class PixiEvent extends e.Rease{constructor({$mode$:e,$once$:t,$type$:i,$handler$:r,$context$:s}){super(),this.onMove(this.hookMove,this),f(this),e&&this.watch(e,y,this),this.watchAll([i,r,t,s],w,this),this.onDestroy(this.hookDestroy)}hookMove(e,t,i){if(e&&e!==this)for(var r=this;r=r.parent;){if(r===this.PixiScene)return;if(r===e||r instanceof d)break}f(this)}hookDestroy(e){I(e)}}class R extends e.Rease{constructor(e,t){super(),this.pixi=t,this.onMove(this.hookMove,this),X(this),h(this,e),this.insert(e.children),u(this,e),this.onDestroy(this.hookDestroy)}update(){this.PixiScene&&this.PixiScene.update()}hookMove(e,t,i){if(e&&e!==this)for(var r=this;r=r.parent;){if(r===this.PixiScene)return;if(r===e||r instanceof d)break}X(this)}hookDestroy(e){F(e),e.pixi.destroy()}}function F(e){var t=e.PixiScene;if(t){var i=t.pixi,r=i.filters;if(r){var s=e.pixi;r===s?i.filters=[]:Array.isArray(r)&&(i.filters=r.filter((function(e){return this!==e}),s)),e.update()}e.PixiScene=void 0}}function X(e){F(e);var t=e.findParentOrNext(d,R),i=t.parent,r=t.next,s=e.pixi,n=r&&r.pixi,o=i&&i.pixi;if(o){var c,a=o.filters;a=Array.isArray(a)?a.slice():a?[a]:[],n&&(c=a.indexOf(n))>-1?a.splice(c,0,s):a.push(s),o.filters=a,e.PixiScene=i,e.update()}}exports.Assets=PixiAssets,exports.Event=PixiEvent,exports.Filter=class PixiFilter extends R{constructor(e){var t=e.options||{};super(e,new PIXI.Filter(t.vertexSrc,t.fragmentSrc,t.uniforms))}},exports.FilterAlpha=class PixiFilterAlpha extends R{constructor(e){var t=e.options||{};super(e,new PIXI.AlphaFilter(t.alpha))}},exports.FilterBlur=class PixiFilterBlur extends R{constructor(e){var t=e.options||{};super(e,new PIXI.BlurFilter(t.strength,t.quality,t.resolution,t.kernelSize))}},exports.FilterColorMatrix=class PixiFilterColorMatrix extends R{constructor(e){super(e,new PIXI.ColorMatrixFilter)}},exports.FilterDisplacement=class PixiFilterDisplacement extends R{constructor(e){var t=e.options;super(e,new PIXI.DisplacementFilter(t.sprite,t.scale))}},exports.FilterFXAA=class PixiFilterFXAA extends R{constructor(e){super(e,new PIXI.FXAAFilter)}},exports.FilterNoise=class PixiFilterNoise extends R{constructor(e){var t=e.options||{};super(e,new PIXI.NoiseFilter(t.noise,t.seed))}},exports.Renderer=PixiRenderer,exports.SceneAnimatedSprite=class PixiSceneAnimatedSprite extends d{constructor(e){var t=e.options;super(e,new PIXI.AnimatedSprite(t.textures,t.autoUpdate))}},exports.SceneBitmapText=class PixiSceneBitmapText extends d{constructor(e){var t=e.options;super(e,new PIXI.BitmapText(t.text,t.style))}},exports.SceneContainer=class PixiSceneContainer extends d{constructor(e){super(e,new PIXI.Container)}},exports.SceneGraphics=class PixiSceneGraphics extends d{constructor(e){var t=e.options||{};super(e,new PIXI.Graphics(t.geometry))}},exports.SceneHTMLText=class PixiSceneHTMLText extends d{constructor(e){var t=e.options||{};super(e,new PIXI.HTMLText(t.text,t.style))}},exports.SceneMesh=class PixiSceneMesh extends d{constructor(e){var t=e.options;super(e,new PIXI.Mesh(t.geometry,t.shader,t.state,t.drawMode))}},exports.SceneNineSlicePlane=class PixiSceneNineSlicePlane extends d{constructor(e){var t=e.options;super(e,new PIXI.NineSlicePlane(t.texture,t.leftWidth,t.topHeight,t.rightWidth,t.bottomHeight))}},exports.SceneParticleContainer=class PixiSceneParticleContainer extends d{constructor(e){var t=e.options||{};super(e,new PIXI.ParticleContainer(t.maxSize,t.properties,t.batchSize,t.autoResize))}},exports.SceneSimpleMesh=class PixiSceneSimpleMesh extends d{constructor(e){var t=e.options||{};super(e,new PIXI.SimpleMesh(t.texture,t.vertices,t.uvs,t.indices,t.drawMode))}},exports.SceneSimplePlane=class PixiSceneSimplePlane extends d{constructor(e){var t=e.options;super(e,new PIXI.SimplePlane(t.texture,t.verticesX,t.verticesY))}},exports.SceneSimpleRope=class PixiSceneSimpleRope extends d{constructor(e){var t=e.options;super(e,new PIXI.SimpleRope(t.texture,t.points,t.textureScale))}},exports.SceneSprite=class PixiSceneSprite extends d{constructor(e){var t=e.options||{};super(e,new PIXI.Sprite(t.texture))}},exports.SceneText=class PixiSceneText extends d{constructor(e){var t=e.options||{};super(e,new PIXI.Text(t.text,t.style,t.canvas))}},exports.SceneTilingSprite=class PixiSceneTilingSprite extends d{constructor(e){var t=e.options;super(e,new PIXI.TilingSprite(t.texture,t.width,t.height))}},exports.__Filter__=R,exports.__Scene__=d;
