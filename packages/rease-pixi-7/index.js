/* eslint-disable */
const e=require("rease");function t(){var e=this;(e.assets||PIXI.Assets)[/Bundle$/.test(e.method)?"unloadBundle":"unload"](e.url||e.urls||e.bundleId||e.bundleIds)}function i(e){var i=this.iam,r=this.props;r.unload&&i.onDestroy(t,r),i.destroyed||i.insert(r.callback?r.callback.call(i,e):r.children)}class PixiAssets extends e.Rease{constructor(e){super(),this.await((e.assets||PIXI.Assets)[e.method](e.options||e.url||e.urls||e.bundleId||e.bundleIds||e.data,e.onProgress||e.data),i,{iam:this,props:e})}}var r="rease-pixi-7-",s=r+"resize",n=r+"render";function o(e,t){return e==e?e===t:t!=t}function a(e,t,i){for(var r in t)null==(s=t[r])||(s=Object.getPrototypeOf(s))!==Object.prototype&&s?o(i[r],t[r])||o(e[r],i[r]=t[r])||(e[r]=t[r]):a(e[r],t[r],i[r]||(i[r]={}));var s}function c(e){e&&(a(this.rease.pixi,e,this.cache),this.rease.update())}function p(e){e&&(e.call(this,this.pixi),this.update())}function x(e,{props:t,$props$:i,onCreateCapture:r,onResizeCapture:o,onRenderCapture:x,$signalCapture$:l}){t&&a(e.pixi,t,{}),i&&e.watch(i,c,{rease:e,cache:{}}),r&&r.call(e,e.pixi),o&&e.on(s,o,e,!0),x&&e.on(n,x,e,!0),l&&e.watch(l,p,e)}function l(e,{onCreate:t,onResize:i,onRender:r,$signal$:o}){t&&t.call(e,e.pixi),i&&e.on(s,i,e),r&&e.on(n,r,e),o&&e.watch(o,p,e)}class PixiRenderer extends e.Rease{constructor(t){super();var i=this,r=this.pixi=PIXI.autoDetectRenderer(t.options),o=r.view,a=o.style;a.width=a.height="100%";var c=!0,p=!1,h=e=>{p=!0,i.PixiScene&&(c&&(c=!1,r.resize(o.clientWidth,o.clientHeight),i.emitDeep(s)),i.emitDeep(n,e),r.render(i.PixiScene.pixi))},u=i.insert(e.createElement(e.RElement,{this:o}))[0];this.update=()=>{p&&(p=!1,e.requestAnimationFrame(h))},i.onDestroy(e.listen(o,"resize",(()=>{c=!0,i.update()}))),x(i,t),u.insert(t.children),l(i,t),i.onDestroy(i.hookDestroy),p=!0,i.update()}hookDestroy(e){e.update=()=>{},e.pixi.destroy()}}class h extends e.Rease{constructor(e,t){super(),this.pixi=t,this.onMove(this.hookMove,this),P(this),x(this,e),this.insert(e.children),l(this,e),this.onDestroy(this.hookDestroy)}update(){this.PixiRenderer&&this.PixiRenderer.update()}hookMove(e,t,i){if(e&&e!==this)for(var r=this;r=r.parent;){if(r instanceof h)return void(this.PixiRenderer=r.PixiRenderer);if(r===e)break}P(this)}hookDestroy(e){u(e),e.pixi.removeFromParent(),e.pixi.destroy(),e.update()}}function u(e){var t=e.PixiRenderer;t&&(t.PixiScene===e&&(t.PixiScene=void 0),e.PixiRenderer=void 0)}var d=[PixiRenderer,h];function P(e){u(e);var t=e.findParentOrNext(d,h),i=t.parent,r=t.next,s=e.pixi;if(s.removeFromParent(),i instanceof PixiRenderer)i.PixiScene=e,e.PixiRenderer=i;else{var n=r&&r.pixi,o=n&&n.parent||i&&i.pixi;o&&(n?o.addChildAt(s,o.getChildIndex(n)):o.addChild(s),e.PixiRenderer=(i||r).PixiRenderer)}e.update()}function S(e){var t=e.findParent(h);v(e),e.PixiScene=t,I.call(e,e._mode),f(e)}function v(e){var t=e._type,i=e._handler,r=e.PixiScene;if(r&&t&&i)for(var s=r.pixi,n=t.length;n-- >0;)s.off(t[n],i,e)}function f(e){var t=e._type,i=e._handler,r=e.PixiScene;if(r&&t&&i)for(var s=r.pixi,n=t.length;n-- >0;)s[e._once?"once":"on"](t[n],i,e._context)}function I(e){(this._mode=e)&&this.PixiScene&&(this.PixiScene.pixi.eventMode=e)}function m([e,t,i,r]){v(this),this._once=i,this._type=Array.isArray(e)?e.slice():[e],this._handler=t,this._context=void 0===r?this:r,f(this)}class PixiEvent extends e.Rease{constructor({$mode$:e,$once$:t,$type$:i,$handler$:r,$context$:s}){super(),this.onMove(this.hookMove,this),S(this),e&&this.watch(e,I,this),this.watchAll([i,r,t,s],m,this),this.onDestroy(this.hookDestroy)}hookMove(e,t,i){if(e&&e!==this)for(var r=this;r=r.parent;){if(r===this.PixiScene)return;if(r===e||r instanceof h)break}S(this)}hookDestroy(e){v(e)}}class y extends e.Rease{constructor(e,t){super(),this.pixi=t,this.onMove(this.hookMove,this),R(this),x(this,e),this.insert(e.children),l(this,e),this.onDestroy(this.hookDestroy)}update(){this.PixiScene&&this.PixiScene.update()}hookMove(e,t,i){if(e&&e!==this)for(var r=this;r=r.parent;){if(r===this.PixiScene)return;if(r===e||r instanceof h)break}R(this)}hookDestroy(e){w(e),e.pixi.destroy()}}function w(e){var t=e.PixiScene;if(t){var i=t.pixi,r=i.filters;if(r){var s=e.pixi;r===s?i.filters=[]:Array.isArray(r)&&(i.filters=r.filter((function(e){return this!==e}),s)),e.update()}e.PixiScene=void 0}}function R(e){w(e);var t=e.findParentOrNext(h,y),i=t.parent,r=t.next,s=e.pixi,n=r&&r.pixi,o=i&&i.pixi;if(o){var a,c=o.filters;c=Array.isArray(c)?c.slice():c?[c]:[],n&&(a=c.indexOf(n))>-1?c.splice(a,0,s):c.push(s),o.filters=c,e.PixiScene=i,e.update()}}exports.Assets=PixiAssets,exports.Event=PixiEvent,exports.Filter=class PixiFilter extends y{constructor(e){var t=e.options||{};super(e,new PIXI.Filter(t.vertexSrc,t.fragmentSrc,t.uniforms))}},exports.FilterAlpha=class PixiFilterAlpha extends y{constructor(e){var t=e.options||{};super(e,new PIXI.AlphaFilter(t.alpha))}},exports.FilterBlur=class PixiFilterBlur extends y{constructor(e){var t=e.options||{};super(e,new PIXI.BlurFilter(t.strength,t.quality,t.resolution,t.kernelSize))}},exports.FilterColorMatrix=class PixiFilterColorMatrix extends y{constructor(e){super(e,new PIXI.ColorMatrixFilter)}},exports.FilterDisplacement=class PixiFilterDisplacement extends y{constructor(e){var t=e.options;super(e,new PIXI.DisplacementFilter(t.sprite,t.scale))}},exports.FilterFXAA=class PixiFilterFXAA extends y{constructor(e){super(e,new PIXI.FXAAFilter)}},exports.FilterNoise=class PixiFilterNoise extends y{constructor(e){var t=e.options||{};super(e,new PIXI.NoiseFilter(t.noise,t.seed))}},exports.Renderer=PixiRenderer,exports.SceneAnimatedSprite=class PixiSceneAnimatedSprite extends h{constructor(e){var t=e.options;super(e,new PIXI.AnimatedSprite(t.textures,t.autoUpdate))}},exports.SceneBitmapText=class PixiSceneBitmapText extends h{constructor(e){var t=e.options;super(e,new PIXI.BitmapText(t.text,t.style))}},exports.SceneContainer=class PixiSceneContainer extends h{constructor(e){super(e,new PIXI.Container)}},exports.SceneGraphics=class PixiSceneGraphics extends h{constructor(e){var t=e.options||{};super(e,new PIXI.Graphics(t.geometry))}},exports.SceneHTMLText=class PixiSceneHTMLText extends h{constructor(e){var t=e.options||{};super(e,new PIXI.HTMLText(t.text,t.style))}},exports.SceneMesh=class PixiSceneMesh extends h{constructor(e){var t=e.options;super(e,new PIXI.Mesh(t.geometry,t.shader,t.state,t.drawMode))}},exports.SceneNineSlicePlane=class PixiSceneNineSlicePlane extends h{constructor(e){var t=e.options;super(e,new PIXI.NineSlicePlane(t.texture,t.leftWidth,t.topHeight,t.rightWidth,t.bottomHeight))}},exports.SceneParticleContainer=class PixiSceneParticleContainer extends h{constructor(e){var t=e.options||{};super(e,new PIXI.ParticleContainer(t.maxSize,t.properties,t.batchSize,t.autoResize))}},exports.SceneSimpleMesh=class PixiSceneSimpleMesh extends h{constructor(e){var t=e.options||{};super(e,new PIXI.SimpleMesh(t.texture,t.vertices,t.uvs,t.indices,t.drawMode))}},exports.SceneSimplePlane=class PixiSceneSimplePlane extends h{constructor(e){var t=e.options;super(e,new PIXI.SimplePlane(t.texture,t.verticesX,t.verticesY))}},exports.SceneSimpleRope=class PixiSceneSimpleRope extends h{constructor(e){var t=e.options;super(e,new PIXI.SimpleRope(t.texture,t.points,t.textureScale))}},exports.SceneSprite=class PixiSceneSprite extends h{constructor(e){var t=e.options||{};super(e,new PIXI.Sprite(t.texture))}},exports.SceneText=class PixiSceneText extends h{constructor(e){var t=e.options||{};super(e,new PIXI.Text(t.text,t.style,t.canvas))}},exports.SceneTilingSprite=class PixiSceneTilingSprite extends h{constructor(e){var t=e.options;super(e,new PIXI.TilingSprite(t.texture,t.width,t.height))}},exports.__Filter__=y,exports.__Scene__=h;
