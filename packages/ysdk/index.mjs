/* eslint-disable */
var e,t,a,r,o,n=((e,t,a)=>{var r=()=>{},o=(e,a,r,o)=>{switch(4*t()|0){case 0:e&&e(t()<.5);break;case 1:a&&a();break;case 2:r&&r(new Error("dev"));break;case 3:o&&o()}},n={},c={},s={IS_DEV:!0,getUniqueID:()=>"1",getName:()=>"player",getMode:()=>"lite",getPhoto:e=>"",getPayingStatus:()=>"unknown",getData:e=>{try{var t={};if(e)for(var r,o=e.length;o-- >0;)n.hasOwnProperty(r=e[o])&&(t[r]=JSON.parse(n[r]));else for(var c in n)t[c]=JSON.parse(n[c]);return a.resolve(t)}catch(s){return a.reject(s)}},setData:(e,t=!1)=>{try{var r={};for(var o in e)r[o]=JSON.stringify(e[o]);return n=r,a.resolve()}catch(c){return a.reject(c)}},getStats:e=>{try{var t={};if(e)for(var r,o=e.length;o-- >0;)c.hasOwnProperty(r=e[o])&&(t[r]=c[r]);else for(var n in c)t[n]=c[n];return a.resolve(t)}catch(s){return a.reject(s)}},setStats:e=>{try{var t={};for(var r in e)"number"!=typeof(t[r]=e[r])&&new Error("Stats is not valid");return c=t,a.resolve()}catch(o){return a.reject(o)}},incrementStats:e=>{try{var t={};for(var r in e)"number"!=typeof e[r]?new Error("Increments is not valid"):e[r]!==c[r]&&(t[r]=e[r]);return c={...c,...e},a.resolve(t)}catch(o){return a.reject(o)}}},l=!0,h=!0;return{IS_DEV:!0,deviceInfo:{type:"desktop",isMobile:()=>!1,isDesktop:()=>!0,isTablet:()=>!1,isTV:()=>!1},environment:{app:{id:""},i18n:{lang:"",tld:""},payload:void 0},serverTime:()=>Date.now(),getStorage:()=>a.resolve(localStorage),getPlayer:e=>a.resolve(s),getFlags:(e={})=>a.resolve({...e.defaultFlags}),features:{LoadingAPI:{ready:r},GameplayAPI:{start:r,stop:r}},auth:{openAuthDialog:()=>a.reject()},adv:{showFullscreenAdv:a=>{var r=a.callbacks,n=r.onClose,c=r.onOpen,s=r.onError,l=r.onOffline;e((()=>o(n,c,s,l)),500*t())},showRewardedVideo:a=>{var r=a.callbacks,n=r.onClose,c=r.onOpen,s=r.onError,l=r.onRewarded;e((()=>o(n,c,s,l)),500*t())}},feedback:{canReview:()=>a.resolve(l?{value:!0}:{value:!1,reason:"UNKNOWN"}),requestReview:()=>(l=!1,a.resolve({feedbackSent:t()<.5}))},shortcut:{canShowPrompt:()=>a.resolve({canShow:h}),showPrompt:()=>(h=!1,a.resolve({outcome:t()<.5?"accepted":""}))}}})(setTimeout,Math.random,Promise),c=e=>{console.log("YSDK: "+e)},s=e=>{c("error"),void 0===e||console.error(e)},l=()=>e||(e="undefined"!=typeof YaGames?YaGames.init().then((e=>e||n)).catch((e=>(s(e),n))):Promise.resolve(n)),h=()=>t||(t=l().then((e=>e.auth.openAuthDialog().then((()=>(t=null,!0))).catch((()=>(t=null,!1))))).catch((e=>(s(e),t=null,!1)))),v=()=>a||(a=l().then((e=>e.getStorage())).catch((e=>(s(e),n.getStorage())))),i=e=>l().then((t=>t.getFlags(e))).catch((t=>(s(t),n.getFlags(e)))),u=!1,d=e=>(e&&"scopes"in e&&(o?!u!=!e.scopes&&(()=>{throw new Error("getPlayer: scopes must be "+u)})():u=!!e.scopes),o||(o=l().then((e=>e.getPlayer({scopes:u}))).then((e=>r=e)).catch((e=>(s(e),r||n.getPlayer()))))),g=(e={})=>l().then((t=>(c("advImage"),t.adv.showFullscreenAdv({callbacks:e})))).catch(s),p=(e={})=>l().then((t=>(c("advVideo"),t.adv.showRewardedVideo({callbacks:e})))).catch(s),m=!1,f=!1,w=()=>m,y=()=>m&&f,S=!1,P=!0,b=e=>{c(e),P=!0,l().then((e=>P&&(S||(S=!0,c("gameplayStart"),e.features.GameplayAPI.start())))).catch(s)},k=e=>{c(e),P=!1,l().then((e=>P||S&&(S=!1,c("gameplayStop"),e.features.GameplayAPI.stop()))).catch(s)},I=()=>!m&&(b("gameStart"),m=!(f=!1)),O=()=>!!m&&(k("gameStop"),!(f=m=!1)),D=()=>!(!m||!f)&&(b("gameResume"),!(f=!1)),A=()=>!(!m||f)&&(k("gamePause"),f=!0),E=!1,R=()=>{E||(E=!0,l().then((e=>(c("ready"),e.features.LoadingAPI.ready()))).catch(s))},N=()=>l().then((e=>(c("rateCheck"),e.feedback.canReview()))).catch(s),j=()=>l().then((e=>(c("rateOpen"),e.feedback.requestReview()))).then((e=>e.feedbackSent)).catch(s),F=()=>l().then((e=>(c("shortcutCheck"),e.shortcut.canShowPrompt()))).then((e=>!!e.canShow)).catch(s),V=()=>l().then((e=>(c("shortcutOpen"),e.shortcut.showPrompt()))).then((e=>"accepted"===e.outcome)).catch(s);export{n as SDK,g as advImage,p as advVideo,y as gameIsPaused,w as gameIsStarted,A as gamePause,D as gameResume,I as gameStart,O as gameStop,i as getFlags,d as getPlayer,l as getSDK,v as getStorage,c as log,s as logError,h as openAuthDialog,N as rateCheck,j as rateOpen,R as ready,F as shortcutCheck,V as shortcutOpen};
